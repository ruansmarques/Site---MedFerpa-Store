<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sua Loja | MedFerpa Store</title>
    <!-- Estilos Globais e Específicos -->
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <!-- OVERLAY PARA O CARRINHO E MENU MOBILE -->
    <div class="cart-overlay" id="cart-overlay" onclick="closeAllDrawers()"></div>

    <!-- CABEÇALHO PRINCIPAL -->
    <header class="header">
        <div class="container header-grid">
            
            <!-- MENU HAMBÚRGUER (MOBILE) -->
            <div class="menu-mobile-trigger" onclick="toggleMenuMobile()" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>

            <!-- LOGO CENTRAL/ESQUERDA -->
            <div class="header-logo">
                <a href="index.html">
                    <img src="assets/logo.svg" alt="MedFerpa Logo">
                </a>
            </div>
            
            <!-- NAVEGAÇÃO DESKTOP -->
            <nav class="header-nav" id="main-nav">
                <ul>
                    <li><a href="#">PRESENTES</a></li>
                    <li><a href="#">KITS</a></li>
                    <li><a href="#">MASCULINO</a></li>
                    <li><a href="#">FEMININO</a></li>
                    <li><a href="#">ACESSÓRIOS</a></li>
                    <li><a href="#">LANÇAMENTOS</a></li>
                </ul>
            </nav>

            <!-- ÍCONES DE AÇÃO -->
            <div class="header-icons">
                <img src="assets/icon-search.svg" alt="Busca" class="icon" onclick="toggleSearch()">
                
                <div class="cart-wrapper" onclick="toggleCart()">
                    <img src="assets/icon-cart.svg" alt="Carrinho" class="icon">
                    <span class="cart-badge" id="global-cart-count">0</span>
                </div>

                <a href="login.html" id="user-link-header" class="user-link">
                    <img src="assets/icon-user.svg" alt="Conta" class="icon" id="user-icon-header">
                </a> 
            </div>
        </div>
    </header>

    <!-- BANNER DINÂMICO (HERO SLIDER) -->
    <section class="container hero-section">
        <div class="hero-slider" id="hero-slider">
            <div class="hero-slide active">
                <picture>
                    <source media="(max-width: 768px)" srcset="assets/banner-mobile.jpg">
                    <img src="assets/banner-desktop.jpg" alt="Campanha Nova Coleção" class="hero-img">
                </picture>
            </div>
            <div class="hero-slide">
                <picture>
                    <source media="(max-width: 768px)" srcset="assets/banner2-mobile.jpg">
                    <img src="assets/banner2-desktop.jpg" alt="Tecnologia Têxtil" class="hero-img">
                </picture>
            </div>
            <!-- Indicadores do Slider -->
            <div class="slider-dots" id="slider-dots">
                <span class="dot active" onclick="goToSlide(0)"></span>
                <span class="dot" onclick="goToSlide(1)"></span>
            </div>
        </div>
    </section>

    <!-- ÁREA DE FILTROS E PRODUTOS -->
    <main class="container">
        <div class="collection-top-bar">
            <div class="titles">
                <h2>ROUPAS TECNOLÓGICAS</h2>
                <p>Essenciais que elevam o seu dia a dia com performance.</p>
            </div>
            
            <!-- Ordenação -->
            <div class="sort-wrapper">
                <select id="sort-products" class="btn-sort">
                    <option value="default">ORDENAR POR</option>
                    <option value="price-low">Menor preço</option>
                    <option value="price-high">Maior preço</option>
                </select>
            </div>
        </div>

        <div class="collection-layout">
            <!-- Sidebar de Filtros (Esquerda) -->
            <aside class="filters-sidebar">
                <div class="filter-block">
                    <h3>Preço Máximo</h3>
                    <input type="text" id="price-filter" placeholder="R$ 0,00" class="price-input-field">
                </div>

                <div class="filter-block">
                    <h3>Modelo</h3>
                    <label><input type="checkbox" class="filter-check" data-type="model" value="Camiseta"> Camiseta</label>
                    <label><input type="checkbox" class="filter-check" data-type="model" value="Calça"> Calça</label>
                    <label><input type="checkbox" class="filter-check" data-type="model" value="Acessórios"> Acessórios</label>
                </div>

                <div class="filter-block">
                    <h3>Cor</h3>
                    <label><input type="checkbox" class="filter-check" data-type="color" value="Preto"> Preto</label>
                    <label><input type="checkbox" class="filter-check" data-type="color" value="Branco"> Branco</label>
                    <label><input type="checkbox" class="filter-check" data-type="color" value="Azul"> Azul</label>
                </div>
            </aside>

            <!-- Vitrine de Produtos (Grid) -->
            <section class="products-grid" id="products-list">
                <!-- Conteúdo gerado dinamicamente pelo main.js -->
            </section>
        </div>
    </main>

    <!-- DRAWER DO CARRINHO (DIREITA) -->
    <aside class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <div class="cart-title">
                <img src="assets/icon-cart.svg" alt="" width="20">
                <span>SEU CARRINHO</span>
            </div>
            <button class="btn-close-cart" onclick="toggleCart()">×</button>
        </div>

        <div class="cart-content" id="cart-items-container">
            <!-- Itens do carrinho aparecem aqui -->
        </div>

        <div class="cart-footer">
            <div class="delivery-box">
                <h4>HORÁRIO DE ENTREGA PREFERENCIAL</h4>
                <select class="time-selector">
                    <option value="">Selecione um horário...</option>
                    <option>08:00h - 12:00h</option>
                    <option>13:00h - 18:00h</option>
                </select>
            </div>

            <div class="cart-totals">
                <div class="total-row">
                    <span>SUBTOTAL</span>
                    <span id="cart-subtotal">R$ 0,00</span>
                </div>
                <button class="btn-checkout" onclick="iniciarFluxoCheckout()">FINALIZAR COMPRA</button>
                <button class="btn-continue" onclick="toggleCart()">CONTINUAR COMPRANDO</button>
            </div>
        </div>
    </aside>

    <!-- SEÇÃO DE FAQ -->
    <section class="container faq-section">
        <h2 class="section-title">Dúvidas Frequentes</h2>
        <div class="faq-accordion">
            <div class="faq-item">
                <button class="faq-question">As peças tecnológicas precisam ser passadas? <span>+</span></button>
                <div class="faq-answer">
                    <p>Nossas peças são feitas com fibras que possuem alta memória elástica, desamassando no corpo com o calor da pele.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question">Qual o prazo para trocas? <span>+</span></button>
                <div class="faq-answer">
                    <p>A primeira troca é grátis e pode ser feita em até 30 dias após o recebimento.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RODAPÉ -->
    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <img src="assets/logo-white.svg" alt="Logo White" class="footer-logo">
                <p>Performance e minimalismo para sua rotina.</p>
            </div>
            <div class="footer-col">
                <h4>AJUDA</h4>
                <a href="#">Trocas e Devoluções</a>
                <a href="#">Rastrear Pedido</a>
            </div>
            <div class="footer-col newsletter">
                <h4>NEWSLETTER</h4>
                <input type="email" placeholder="Seu melhor e-mail">
                <button>INSCREVER</button>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 MedFerpa Store - Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Carregamento de Scripts -->
    <!-- Importante: products.js deve vir antes de main.js -->
    <script src="scripts/products.js"></script>
    <script src="scripts/main.js"></script>
    <script type="module" src="scripts/auth.js"></script>

    <script>
        // Funções auxiliares de interface global
        function closeAllDrawers() {
            document.getElementById('cart-sidebar').classList.remove('active');
            document.getElementById('cart-overlay').classList.remove('active');
            // Fechar menu mobile se houver
        }
    </script>
</body>
</html>